datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id           Int           @id @default(autoincrement())
    email        String        @unique
    name         String?
    workoutPlans WorkoutPlan[]
}

model WorkoutPlan {
    id        Int          @id @default(autoincrement())
    user      User?        @relation(fields: [userId], references: [id])
    userId    Int?
    createdAt DateTime     @default(now())
    days      WorkoutDay[]
}

model WorkoutDay {
    id          Int         @id @default(autoincrement())
    label       String // "treinoA", "treinoB", "treinoC"
    workoutPlan WorkoutPlan @relation(fields: [planId], references: [id])
    planId      Int
    exercises   Exercise[]
}

model Exercise {
    id           Int    @id @default(autoincrement())
    exercise     String
    reps         String
    restTime     String
    howtoExecute String

    workoutDay   WorkoutDay @relation(fields: [workoutDayId], references: [id])
    workoutDayId Int
}
